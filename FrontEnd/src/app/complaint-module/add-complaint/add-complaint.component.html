<!-- <ion-header>
  <ion-toolbar>
    <ion-title>Add User</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>
    <ion-header class="android">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-icon (click)="goBack()" name="arrow-back-sharp" class="backBtn"></ion-icon>
        </ion-buttons>
        <ion-title class="ion-text-center"> Complaint </ion-title>
      </ion-toolbar>
    </ion-header>
    <div class="main-content">
      <ion-grid>
        <ion-row>
          <ion-text class="form-header pl-10">
            <ion-icon name="add-circle-outline" class="pr-1"></ion-icon>Complaint
          </ion-text>
        </ion-row>
        <form (ngSubmit)="f.form.valid" #f="ngForm" novalidate >
          <ion-row>
  
            <ion-col size-xl="4" size-lg="4" size-md="6" size-sm="6" size-xs="12">
              <ion-label> Subject </ion-label>
              <ion-input maxlength="50" name="Subject" [(ngModel)]="societycomplaint.Subject" class="text-capitalize form-control" required></ion-input>
            </ion-col>

            <ion-col size-xl="4" size-lg="4" size-md="6" size-sm="6" size-xs="12">
                <ion-label> From Date </ion-label>
                <ion-input 
                  value="{{ FromDate | date: 'yyyy-MM-dd' }}" 
                  id="FromDate" 
                  name="FromDate" 
                  [(ngModel)]="societycomplaint.FromDate"
                  class="form-control"
                  (keypress)="onKeyPress($event)"
                  (keypress)="keyPressNumbers($event)" 
                >
                </ion-input>
    
                <ion-modal trigger="FromDate" size="cover" [canDismiss]="canDismiss" 
                [backdropDismiss]="false" >
                  <ng-template>
                    <ion-datetime 
                    max={{maxDate}}
                      presentation="date"
                      [(ngModel)]="FromDate" 
                      name="FromDate"
                      show-default-buttons="true"
                      >
                      <span slot="title"> {{ year }} </span>
                    </ion-datetime>
                  </ng-template>
                </ion-modal>
              </ion-col>

              <ion-col size-xl="4" size-lg="4" size-md="6" size-sm="6" size-xs="12">
                <ion-label> To Date </ion-label>
                <ion-input 
                  value="{{ ToDate | date: 'yyyy-MM-dd' }}" 
                  id="ToDate" 
                  name="ToDate" 
                  [(ngModel)]="societycomplaint.ToDate"
                  class="form-control"
                  (keypress)="onKeyPress($event)"
                  (keypress)="keyPressNumbers($event)" 
                >
                </ion-input>
    
                <ion-modal trigger="ToDate" size="cover" [canDismiss]="canDismiss" 
                [backdropDismiss]="false" >
                  <ng-template>
                    <ion-datetime 
                    max={{maxDate}}
                      presentation="date"
                      [(ngModel)]="ToDate" 
                      name="ToDate"
                      show-default-buttons="true"
                      >
                      <span slot="title"> {{ year }} </span>
                    </ion-datetime>
                  </ng-template>
                </ion-modal>
              </ion-col>

              <ion-col size-xl="4" size-lg="4" size-md="6" size-sm="6" size-xs="12">
                <ion-label> Details </ion-label>
                <ion-textarea maxlength="160" rows="2" name="Details" [(ngModel)]="societycomplaint.Details"  class="form-control" ></ion-textarea>
              </ion-col>

              <ion-col size-xl="4" size-lg="4" size-md="6" size-sm="6" size-xs="12">
                <ion-label> Remark </ion-label>
                <ion-textarea maxlength="160" rows="2" name="Remark" [(ngModel)]="societycomplaint.Remark" class="form-control" ></ion-textarea>
              </ion-col>

              <ion-col size-xl="4" size-lg="4" size-md="6" size-sm="6" size-xs="12">
                <ion-label> File </ion-label>
                <input type="file" name="file" (change)="onFileSelected($event)"  class="form-control">
              </ion-col>

              <!-- <img [src]="clickedImage" /> -->

            <ion-col size-lg="12" size-md="12" size-sm="12" size-xs="12">
              <div class="ion-text-center">
                <ion-button type="reset" (click)="resetForm()" color="danger" size="medium">Clear</ion-button>
                <ion-button type="submit" size="medium" (click)="addComplaint()" [disabled]="!f.form.valid">Save</ion-button>
                <ion-button routerLink="/complaint-book/all-complaints" color="success" type="button" size="medium">Back To List
                </ion-button>
              </div>
            </ion-col>
          </ion-row>
        </form>
      </ion-grid>
    </div>
  </ion-content>